# Структуры

Это сложный тип данных в Go, который объединяет несколько значений разных или одинаковых типов под одним именем. Она позволяет создавать объекты с логически связанными полями и использовать их для удобного моделирования сложных сущностей.

## Структура темы:
- [Как работает?](##how-work)
- [Особенности работы](##features)
- [Возможности](##opportunities)
- [Методы](##methods)
- [Ссылки](##links)


## Как работает?{##how-work}

Доступ к полям структуры осуществляется через точечную нотацию: `object_struct.field`.


### Реализация
```go
//Обычная
type Person struct {
	Name string //Поле структуры, состоит из имени и типа поля
	Age int
	Address string
	Email string
}

//С вложенной структурой
type Employee struct {
	Person //Будут доступны все поля Person
	Department string
	Salary float64
}

// анонимная структура
user := struct {
	Name string
	Age int
} {
	Name: "Nikita",
	Age: 30,
}
fmt.Println("Name: ", user.Name, "| Age: ", user.Age)


```

## Особенности работы{##features}

```go
p := Person{Name: "Nikita", Age: 30} // Создание экземпляра структуры Person

p := &Person{Name: "Nikita"} // Создание указателя на экземпляр структуры Person
p.Age = 31 // Изменение значения поля Age через указатель


```


### Aligment
> aka Выравнивание

Это способ организации данных в памяти, чтобы обеспечить оптимальное использование ресурсов и улучшить производительность. Достигается это тем, что адрес в памяти структуры всегда кратен размеру самого большого поля структуры.
```go
type Book struct {
	Title string // 16 - 2*8
	Author string // 16 - 2*8
	Pages int // 4 or 8
	isAvailavle bool //1b + 7b //Чтобы выравнять - 7b заполяняются нулями

	//Aligment == 16 + 16 + 8 + 1 + 7 = 48
}
```


## Возможности{##opportunities}

- Структуры могут реализовывать интерфейсы, что позволяет использовать полиморфизм и создавать гибкие и расширяемые программы. Если структура имеет методы, соответствующие интерфейсу, она автоматически его реализует.

- Структуры передаются в функции и методы по значению (копируются) или по указателю (ссылка), что влияет на производительность и возможность менять оригинальные данные.

- Структуры можно сравнивать друг с другом (если все поля сравнимы), что полезно для проверок и тестов.

- Поля структуры могут содержать метаданные - теги, которые используются для управления сериализацией и десериализацией структур в различных форматах, таких как JSON, XML, ... :
```go
type Person struct {
	Name string `json:"name"`
	Age int `json:"age"`
	Department string `json:"department"`
	Salary float64 `json:"salary"`
}
```

## Методы{##methods}

Функции можно "привязать" к определенной структуре, что называется обьявлением метода,
я сама функция будет называться методом.

```go
func (p Person) Greet() string {
    return "Hello, " + p.Name
}
```
`funx (p Person) Greet()` - говорит нам о том, что мы работаем с локальной копией,
то есть абсолютно любые изменения не затрагивают оригинал.

Но что если мы хотим изменить значение поля в структуре?
Тогда мы можем использовать указатель на структуру:
```go
func (p *Person) Hello(p Person) string {
    return "Hello, " + p.Name
}
```

Теперь мы можем изменять поля оригинальной структуры.
Также такая запись метода хорошо сказывается на производительности - экономия вычислений и памяти при копировании.




## Ссылки{##links}
- [Go](./README.md)
